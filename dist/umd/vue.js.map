{"version":3,"file":"vue.js","sources":["../../src/util/index.js","../../src/observer/array.js","../../src/observer/dep.js","../../src/observer/index.js","../../src/state.js","../../src/compiler/parser-html.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/util/next-tick.js","../../src/observer/schedular.js","../../src/observer/watcher.js","../../src/vdom/patch.js","../../src/lifecycle.js","../../src/init.js","../../src/vdom/create-element.js","../../src/render.js","../../src/initGlobalAPI/mixin.js","../../src/initGlobalAPI/const.js","../../src/initGlobalAPI/assets.js","../../src/initGlobalAPI/extend.js","../../src/initGlobalAPI/index.js","../../src/index.js"],"sourcesContent":["export function isObject(data) {\n    return typeof data === 'object' && data !== null\n}\n\n\nexport function def(data, key, value) {\n    Object.defineProperty(data, key, {\n        enumerable: false, // 不可枚举\n        configurable: false, // 不可配置\n        value\n    })\n}\n\nexport function proxy(vm, source, key) {\n    Object.defineProperty(vm, key, {\n        get() {\n            return vm[source][key]\n        },\n        set(newValue) {\n            vm[source][key] = newValue;\n        }\n    })\n}\n\nexport function upper(all, letter) {\n    return letter.toUpperCase();\n}\n\nconst LIFECYCLE_HOOKS = [\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeUpdate',\n    'updated',\n    'beforeDestroy',\n    'destroyed'\n]\n\n// 策略\nlet strats = {}\nLIFECYCLE_HOOKS.forEach(hook => {\n    // 根据key 执行 自定义函数\n    strats[hook] = mergeHook\n});\n\n// 组件策略 \nfunction mergeAssets(parentVal, childVal) {\n    const res = Object.create(parentVal); // res.__proto__ = parentVal;\n\n    if (childVal) {\n        for (let key in childVal) {\n            // 让组件 先找自己的局部组件,找不到根据原型链 网上找\n            res[key] = childVal[key]\n        }\n    }\n    return res; \n\n}\n// 所以全局组件 可以在任何地方用\nstrats.components = mergeAssets;\n\n\nfunction mergeHook(parentVal, childVal) {\n    if (childVal) {\n        if (parentVal) {\n            return parentVal.concat(childVal)\n        } else { // 新的有,老的没有 生命周期 返回 数组格式\n            return [childVal]\n        }\n\n    } else { // 没有子级 直接返回\n        return parentVal;\n    }\n}\n\n\n/**\n * @description: 合并对象 或其他类型\n * @param {*} parent \n * @param {*} child \n */\nexport function mergeOptions(parent, child) {\n    const options = {};\n\n    // 父是对象\n    for (let key in parent) {\n        mergeField(key)\n    }\n\n    for (let key in child) {\n        // 如果已经合并过了,就不需要再合并了\n        if (!parent.hasOwnProperty(key)) {\n            mergeField(key)\n        }\n    }\n\n\n    // 默认的合并策略 但有些属性 需要特殊的合并 生命周期的合并\n    function mergeField(key) {\n        // 如果你有 这个策略, 执行策略方法, 主要是用来处理生命周期; 因为其需要是一个数组 可一次执行\n        if (strats[key]) {\n            return options[key] = strats[key](parent[key], child[key])\n        }\n\n\n        if (typeof parent[key] == 'object' && typeof child[key] == 'object') {\n            options[key] = {\n                ...parent[key],\n                ...child[key]\n            }\n        } else if (child[key] == null) {\n            options[key] = parent[key];\n        } else { // 父为null 子为obj\n            options[key] = child[key]\n        }\n    }\n\n    return options;\n\n}","\n/**\n * @Object.create 用来进行基于原型链的继承\n * 用户操作 vm._data.arr.push 就会在 重写的 arrayMethods 中找方法\n * value.__proto__ = arrayMethods \n * 如果 arrayMethods 找不到任何方法就会基于原型链向上找\n * arrayMethods.__proto__ = oldArrayMethods\n */\nlet oldArrayMethods = Array.prototype\nexport let arrayMethods = Object.create(oldArrayMethods)\n\n// 都会改变 原数组 , slice 不会\nconst methods = [\n    \"push\",\n    \"shift\",\n    \"unshift\",\n    \"pop\",\n    \"sort\",\n    \"splice\",\n    \"reverse\"\n]\n\nmethods.forEach(method => {\n    // 先调用 重写的arr 方法 AOP 切片\n    arrayMethods[method] = function (...args) {\n        // 再里面调用 原生的数组方法\n        const result = oldArrayMethods[method].apply(this, args)\n\n        let insert // 当前用户插入的元素\n        let ob = this.__ob__;\n\n        switch (method) {\n            case \"push\":\n            case \"unshit\":\n                insert = args; // 类数组 es6 ...args 参数\n                break;\n            case \"splice\":\n                insert = args.slice(2) // arr.splice(0,1,{name:1})\n            default:\n                break;\n        }\n        // 当新添对象的话 继续 观察 \n        if (insert) {\n            ob.observerArray(insert)\n        }\n\n\n        //  如果用户调用了 数组方法 就会通知当前的dep 去更新\n        ob.dep.notify();\n\n        return result\n    }\n\n})\n\n\n/**\n * @总结:\n * @Object.create 原型链继承\n * @AOP 切片编程方法\n */","let id = 0;\nclass Dep {\n    constructor() {\n        this.id = id++;\n        this.subs = [];\n    }\n    // 把 watcher 添加到 dep中\n    addSub(watcher) {\n        this.subs.push(watcher)\n    }\n\n    depend() {\n        // this.subs.push(Dep.target);\n        // 这里的 Dep.target 就是 watcher, 方法意思是把 Dep 添加到watcher里\n        Dep.target.addDep(this);\n    }\n\n    notify() {\n        // console.log(\"watcher this.subs--\", this.subs)\n        this.subs.forEach(watcher => watcher.update())\n\n        // wathcer 更新完就被移除了\n        // console.log(\"Dep.target-- notify after\", Dep.target)\n    }\n\n}\n\nDep.target\n\n\n// 栈\nlet stack = [];\nexport function pushTarget(watcher) {\n    Dep.target = watcher;\n    stack.push(watcher)\n\n}\n\n\n\nexport function popTarget() {\n    stack.pop();\n    Dep.target = stack[stack.length - 1];\n}\n\nexport default Dep;\n","import { isObject, def } from \"../util/index\"\nimport { arrayMethods } from \"./array.js\";\nimport Dep from \"./dep\"\n\n\nexport function observe(data) {\n    const isObj = isObject(data);\n    if (!isObj) {\n        return\n    }\n    return new Observer(data);\n}\n\nclass Observer {\n    constructor(value) {\n        /** 给数组用的 */\n        this.dep = new Dep();\n\n\n        // value.__proto__.ob = this; // 给每一个监控过得对象依次增加set get 方法\n\n        // 这里用数据存储器的方式 不让 该属性能枚举, 不然会死循环,因为存值是this,\n        // 被枚举时候 会访问到this  会不断调用walk=>observerArray 等\n        def(value, \"__ob__\", this);\n\n\n\n        if (Array.isArray(value)) {\n            // 如果是数组的话 并不会对索引进行观察,会导致性能问题,(数组里100个item 就要观察100次)\n            // 而且用户很可能操作 索引, (最少别操作索引)\n            // console.log(\"is Array\")\n\n            // 函数的劫持(代理),通过更改原型链上的 方法, arrayMethods内部再调用原生的方法 (push shift, unshift)\n            value.__proto__ = arrayMethods;\n            // 数组里放的对象 再监控\n            this.observerArray(value)\n\n        } else {\n            // console.log(\"is object\")\n            this.walk(value)\n        }\n\n    }\n\n    walk(data) {\n        // 拿到所有的对象 key 进行深度遍历 设置 get set\n        const keys = Object.keys(data);\n        keys.forEach(key => {\n            defineReactive(data, key, data[key])\n        })\n    }\n\n    // 观察数组\n    observerArray(value) {\n        // 遍历数组每一项值, 非引用类型除外, 观察的是 每一个对象\n        for (let i = 0; i < value.length; i++) {\n            observe(value[i])\n        }\n    }\n}\n\nfunction dependArray(value) {\n    for (let i = 0; i < value.length; i++) {\n        let current = value[i]; // 数组中每一个都取出 收集依赖\n        current.__ob__ && current.__ob__.dep.depend()\n        if (Array.isArray(current)) { // 递归数组中的数组 依赖收集\n            dependArray(current);\n        }\n    }\n}\n\nfunction defineReactive(data, key, value) {\n\n    // 这个dep 是给对象使用的\n    let dep = new Dep();\n\n    /**\n     * @observe :  对data里对象进行递归深度遍历观察; 其返回值是ovserver实例\n     * @value: value可能是数组也可能是对象\n     */\n    let childOb = observe(value)\n\n    /**\n     * @数据描述器 \n     * Object.defineProperty(obj,\"newKey\",{\n     * get:function (){} | undefined,\n     * set:function (value){} | undefined\n     * configurable: true | false\n     * enumerable: true | false\n    });\n     * @注意 当使用了getter或setter方法，不允许使用writable和value这两个属性\n     * \n     */\n    Object.defineProperty(data, key, {\n        configurable: true,\n        enumerable: true, // 这里要设置为true 不然 vm里data里的对象展示不出来\n        get() {\n            if (Dep.target) { // 如果当前有watcher\n                dep.depend(); // 表示要将watcher存起来\n\n                // 收集数组的相关依赖\n                if (childOb) {\n                    childOb.dep.depend()\n\n                    if (Array.isArray(value)) {\n                        dependArray(value)\n                    }\n                }\n            }\n\n            return value\n        },\n        // 操作 去设置值 \n        set(newValue) {\n            // 监听变化\n            console.log(\"监听变化\")\n            // 浅比较 相等 就不继续执行\n            if (newValue == value) return\n            // @注意!!! 如果用户直接修改 data 上的对象为一个新的对象,需要继续 observe\n            observe(newValue)\n\n            // 这里的 value 是闭包引用,直接修改即可\n            value = newValue;\n\n            dep.notify(); // 通知依赖的watcher 来更新\n        }\n    })\n}","import { observe } from \"./observer/index\"\nimport { proxy } from \"./util/index\"\n/**\n * \n * @param {*} vm 传入实例\n * 初始化状态: 包含 props data computed watch (传入 Vue 里的 options 含有的都需要初始化)\n */\nexport function initState(vm) {\n\n    const opts = vm.$options;\n\n    if (opts.props) {\n        initProps(vm);\n    }\n\n    if (opts.data) {\n        initData(vm);\n    }\n\n    if (opts.methods) {\n        initMethods(vm);\n    }\n    if (opts.computed) {\n        initComputed(vm);\n    }\n\n    if (opts.watch) {\n        initWatch(vm);\n    }\n\n}\n\nfunction initProps() { }\n\n\n// 初始化数据\nfunction initData(vm) {\n\n    let data = vm.$options.data;\n    data = vm._data = typeof data == 'function' ? data() : data\n    // 对象劫持, 用户改变了数据,希望可以监听到,得到通知 ==> 去更新视图View\n    console.log(\"data--\", data)\n\n    //为零让用户更好的使用, 希望直接 vm.xx;  走代理模式\n    for (let key in data) {\n        // 代理 _data 转移取值\n        proxy(vm, '_data', key)\n    }\n\n\n\n\n    // MVVM模式 数据变化 驱动视图变化\n    // 用 Object.defineProperty 给给对象的属性增加get 和set方法\n    observe(data)\n\n}\n\nfunction initMethods() { }\n\nfunction initComputed() { }\n\nfunction initWatch() { }\n","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*` // abc-aaa\n\nconst gnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // <awdawd:awfwdw>\n\nconst startTagopen = new RegExp(`^<${gnameCapture}`); // 标签开头的正则 捕获的内容是标签名 \n\nconst endTag = new RegExp(`^<\\\\/${gnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\n\n// 匹配属性  id = \"app\"  id = 'app'  id = app 三种可能\n//                 空格 + 非\"'<>=       不捕获 空格 =\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)’+|([^\\s\"'=<>`]+)))?/;\n\nconst startTagclose = /^\\s*(\\/?)>/; // 匹配标签结束 空格 + /> \n\n\n\nexport function parseHTML(html) {\n\n    let root = null; // ast语法树\n    let currentParent; // 标识当前父亲是谁\n    const ELEMENT_TYPE = 1\n    const TEXT_TYPE = 3\n    let stack = []; // 主要用于看是否为正常的 关闭的标签; 栈结构 先进后出\n\n\n    // ast html节点\n    function createASTElement(tagName, attrs) {\n        return {\n            tag: tagName,\n            type: ELEMENT_TYPE,\n            children: [],\n            attrs,\n            parent: null\n        }\n    }\n\n    function start(tagName, attrs) {\n        // 遇到开始标签,就创建一个ast元素\n        let element = createASTElement(tagName, attrs);\n        // 如果一上来没有root\n        if (!root) {\n            root = element;\n        }\n        currentParent = element;\n        stack.push(element);\n\n    }\n\n    function chars(text) {\n        text = text.replace(/\\s/g, '');\n        if (text) {\n            currentParent.children.push({\n                text,\n                type: TEXT_TYPE\n            })\n        }\n    }\n\n\n    // <div><p></p></div>  [div]\n    function end(tagName) {\n        //  栈结构 当遇到结尾的标签 就弹出\n        let element = stack.pop();\n        currentParent = stack[stack.length - 1];\n        // 如果父节点存在,即可标明父子关系\n        if (currentParent) {\n            // 实现一个树的父子 关系\n            element.parent = currentParent;\n            currentParent.children.push(element);\n        }\n\n    }\n\n\n    // 不停解析html字符串\n    while (html) {\n        let textEnd = html.indexOf(\"<\");\n\n        // 解析开始标签 + 属性\n        // 默认开头的标签 <\n        if (textEnd == 0) {\n            // 如果索引为0,肯定是一个标签, 开始标签 || 结束标签\n            let startTagMatch = parseStartTag() // 获取到匹配的标签名, tagName 属性attr\n\n            if (startTagMatch) {\n                // console.log(\"startTagMatch---\", startTagMatch)\n                start(startTagMatch.tagName, startTagMatch.attrs)\n                // 匹配到开头标签, continue 跳过循环 继续下一个循环\n                continue\n            }\n            let endTagMatch = html.match(endTag);\n            // 匹配到 </ 结束标签\n            if (endTagMatch) {\n                // 删除结束标签, 比如 删除 <div> </div> \n                advance(endTagMatch[0].length)\n                end(endTagMatch[1]) // 2 解析结束标签\n                continue\n            }\n        }\n\n        // 文本\n        let text;\n        // 匹配到 <p 之前的文本\n        if (textEnd >= 0) {\n            text = html.substring(0, textEnd)\n        }\n        if (text) {\n            advance(text.length);\n            chars(text); // 3 解析文本\n        }\n\n\n    }\n    // 截掉n之前的字符串\n    function advance(n) {\n        html = html.substring(n)\n    }\n\n    // 遍历 html 字符串 生成 节点+属性\n    function parseStartTag() {\n        /**\n         * 1.匹配 tagName\n         */\n\n        // 匹配出来 是一个 数组  ['<div','div', index:0, input: \"<div id =\"app\"\",xxxx]\n        let start = html.match(startTagopen)\n        if (start) {\n            // 设置一个对象来接受\n            const match = {\n                tagName: start[1],\n                attrs: []\n            }\n            // eg: <div . length, 为了把html 字符串 前面匹配过的 截掉\n            advance(start[0].length)\n\n            /**\n             * 2.匹配 属性\n            */\n            let end, attr\n            // 没有匹配到结束标签 且有 属性 attr\n            while (!(end = html.match(startTagclose)) && (attr = html.match(attribute))) {\n                advance(attr[0].length);// 属性去掉\n                match.attrs.push({\n                    name: attr[1],\n                    value: attr[3] || attr[4] || attr[5]\n                })\n            }\n            if (end) {\n                // console.log(\"end---\", end)\n                advance(end[0].length)\n                return match\n            }\n        }\n    }\n\n    // 返回根节点\n    return root;\n}\n\n\n/**\n * 匹配规则 html 为 语法树结构:\n * <div id=\"app\">\n     <p>hello</p>\n   </div>\n *\n * \nlet root = {\n    tag: 'div',\n    attrs: [{ name: 'id', value: 'app' }],\n    parent: null,\n    type: 1, // nodeType 节点为1  属性为2 文本为3\n    children: [{\n        tag: 'p',\n        attrs: [],\n        parent: root,\n        children: [\n            {\n                text: 'hello',\n                type: 3\n            }\n        ]\n    }]\n}\n * \n *   \n */","import { upper } from \"../util/index.js\"\n\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g  // 匹配 {{}}\n\n\nfunction genProps(attrs) {\n    let str = '';\n    // attrs 是数组 格式 eg: [{name:id,value: 'app'},{name:style,value: \" color:red;fontSize:14; \"}] \n    for (let i = 0; i < attrs.length; i++) {\n        let attr = attrs[i]\n\n        // style=\"color:red;font-size:14;\" ===>  {style:{color: 'red'}}\n        // style 特殊处理\n        if (attr.name === 'style') {\n            let obj = {};\n            // attr.value =  color:red;font-size:14; ==> 转成 obj\n            attr.value.split(\";\").forEach(item => {\n                let [key, value] = item.split(\":\");\n                // 处理特殊key名,eg: font-size ==> fontSize\n                if (key.indexOf(\"-\") > -1) {\n                    // replace 第二参数 可以穿函数, 函数参数:(匹配到的值,第二个是捕获到的)\n                    key = key.replace(/-(\\w)/g, upper)\n                }\n                obj[key] = value;\n            });\n            // 改写 attr的 value\n            attr.value = obj;\n        }\n        // 任何属性 key:value 形式 拼接; 每一个都接逗号\n        str += `${attr.name}:${JSON.stringify(attr.value)},`\n    }\n    return `{${str.slice(0, -1)}}` // 最后一项 逗号不要\n}\n\n\nfunction genChildren(el) {\n    let children = el.children;\n    if (children && children.length > 0) {\n        return `${children.map(c => gen(c)).join(',')}`\n    } else {\n        return false\n    }\n}\n\n\nfunction gen(node) {\n    // 递归匹配\n    if (node.type == 1) {\n        return generate(node)\n    } else {\n\n        // exec 正则循环匹配 会有问题 ,lastIndex问题\n        // _v(\"a\"+_s(name)+\"b\"+_s(age)+\"c\")\n\n        let text = node.text; // eg: a {{name}} b {{age}} c\n        let tokens = []; // 是用来存 每一个 text 比如 a, {{name}} 等\n        let match, index;\n        let lastIndex = defaultTagRE.lastIndex = 0; // 只要是全局匹配 就需要将lastIndex 每次调到0\n\n        // 匹配不到 就为 null 结束循环\n        while (match = defaultTagRE.exec(text)) {\n            index = match.index;\n            if (index > lastIndex) {\n                // 截取字符串\n                tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n            }\n            tokens.push(`_s(${match[1].trim()})`);\n\n            // 重新设置偏移量 = 匹配到的起始index + 匹配到的长度\n            lastIndex = index + match[0].length;\n        }\n        // 如果没有匹配到最后, 直接把后面的全部push 到tokens里\n        if (lastIndex < text.length) {\n            tokens.push(JSON.stringify(text.slice(lastIndex)))\n        }\n        console.log(\"tokens----\", tokens);\n        // 最后 全部 用 + 号 连起来\n        return `_v(${tokens.join(\"+\")})`\n    }\n\n}\n\n\n\nexport function generate(el) {\n\n    let children = genChildren(el);\n\n    let code = `_c(\"${el.tag}\",\n    ${el.attrs.length ? genProps(el.attrs) : 'undefined'}\n    ${children ? `,${children}` : \"\"})`\n    return code\n}","import { parseHTML } from \"./parser-html.js\"\nimport { generate } from \"./generate.js\";\n\n\nexport function compileToFunction(template) {\n    console.log(\"compile\", template)\n    // 1.把html字符串 转为 ast语法树 \n    let root = parseHTML(template)\n    console.log('root---', root)\n\n\n\n    // 2.把 ast语法树 生成最终的 render函数 就是字符串拼接(模版引擎)\n    // <div id=\"app\"><p>hello {{name}}</p> hello </div>\n    // 将ast树,再次转化为 js语法 ,核心思路就是将模版转化为 下面字符串:\n    // _c(\"div\",{id:app},_c(\"p\",undefined,_v('hello' + _s(name) )),_v('hello'))\n\n    let code = generate(root)\n\n    console.log(\"code--\", code)\n\n    // 所有 模版引擎实现: 都需要 new Function + with\n\n    // render 函数 返回的就是 虚拟dom  且 _c, _s _v 创建的都是一个个虚拟dom\n    let renderFn = new Function(`with(this){ return ${code}}`)\n\n\n    return renderFn\n}","let callbacks = [];\nlet waiting = false;\n\nfunction flushCallback() {\n    waiting = false;\n    const copies = callbacks.slice(0);\n    // 置空\n    callbacks.length = 0;\n    for (let i = 0; i < copies.length; i++) {\n        copies[i]();\n    }\n}\n\n\n\nlet timerFunc;\n\nif (typeof Promise !== 'undefined') {\n    const p = Promise.resolve();\n    timerFunc = function () {\n        p.then(flushCallback)\n    }\n\n} else if (typeof setImmediate !== 'undefined') {\n    timerFunc = () => {\n        setImmediate(flushCallback)\n    }\n} else {\n    timerFunc = () => {\n        setTimeout(flushCallback, 0)\n    }\n}\n\n\n\n// 项目初始化的时候 ,代码里写的 set属性, 或者用户自己执行$nextTick 都会往队列里塞cb;  这里需要拦截,因为代码里面会循环调用 队列里的 callback;不然会多次调用\nexport function nextTick(cb, ctx) {\n    let _resolve;\n\n    // 队列 push 只要有 就往里 push;\n    function fun() {\n        if (cb) {\n            cb.call(ctx)\n        }\n    }\n    callbacks.push(fun);\n\n\n\n    // 这里为了避免 异步函数 还没 被调用完 一种节流机制\n    if (waiting === false) {\n        waiting = true;\n        // 执行并清空\n        timerFunc()\n    }\n\n    // 当没有cb 可以提供Promise形式\n    /**\n     * vm.$nextTick().then(() => { })\n     */\n    if (!cb && typeof Promise !== 'undefined') {\n        console.log(\"参数---\", Array.prototype.slice.apply(arguments));\n        return new Promise(resolve => {\n            resolve()\n            _resolve = resolve\n        })\n    }\n}\n","import { nextTick } from \"../util/next-tick\";\n\n\nlet quene = []; //队列存放watcher\nlet has = {};\n\n\n\nfunction flushSchedularQueue() {\n    console.log(\"flushSchedularQueue--\")\n    quene.forEach(watcher => watcher.run());\n    // 清空 队列 和 挂载对象\n    quene = [];\n    has = {};\n}\n\nexport function queueWatcher(watcher) {\n    const id = watcher.id;\n    // 同一个watcher 需要过滤;\n    if (!has[id]) {\n        quene.push(watcher);\n        has[id] = true;\n        // 单线程 等同步执行完以后 callback, 在下一个事件队列 执行;\n        nextTick(flushSchedularQueue, watcher)\n    }\n}","import { pushTarget, popTarget } from \"./dep.js\"\nimport { queueWatcher } from \"./schedular\"\n\n\nlet id = 0;\nclass Watcher {\n    constructor(vm, exprOrFn, callback, options) {\n        this.id = id++;\n        this.vm = vm;\n        this.callback = callback;\n        this.options = options;\n        this.getter = exprOrFn;\n\n        // dep 相关\n        this.depsId = new Set() // 唯一性 去重\n        this.deps = [];\n\n        this.get();\n\n    }\n    addDep(dep) {\n        let id = dep.id;\n        // 解决watcher 重复存放的问题\n        if (!this.depsId.has(id)) {\n            this.depsId.add(id);\n            this.deps.push(dep);\n\n            // 调用 dep 方法;把watcher 存到dep里 (避免重复存放)\n            dep.addSub(this);\n        }\n    }\n\n    get() {\n        pushTarget(this); // 把watcher 存起来\n        this.getter(); // 渲染watcher的执行\n\n        popTarget(); // 移除watcher\n    }\n\n    // 有可能会被 多次调用 update 所以要过滤\n    update() {\n        // 等待着\n        // this.get()\n        // console.log(\"update---------\")\n        queueWatcher(this);\n    }\n\n    run() {\n        this.get();\n    }\n}\n\nexport default Watcher","// 渲染成真实dom\nexport function patch(oldVnode, vnode) {\n    // 1.判断是更新还是渲染\n\n    // 因为虚拟节点是 没有 nodeType的\n    const isRealElement = oldVnode.nodeType\n\n    if (isRealElement) {\n        const oldElm = oldVnode; // app\n        const parentElm = oldElm.parentNode // body\n\n        let el = creareElm(vnode);\n        parentElm.insertBefore(el, oldElm.nextSibling) // 紧跟app 组件之后,插入el\n\n        parentElm.removeChild(oldElm) // 删除老的 app\n\n        // 需要将渲染好的dom 返回\n        return el;\n    }\n \n\n}\n// 根据虚拟节点 创建 真实的 dom节点\n// 递归创建\nfunction creareElm(vnode) {\n    let { tag, children, key, data, text } = vnode;\n    if (typeof tag == 'string') {\n        // 创建标签\n        vnode.el = document.createElement(tag);\n        // 把属性 也展示到 dom页面效果上\n        updateProperties(vnode);\n\n        // 递归子节点\n        children.forEach(child => {\n            // 把子节点 一个个 塞到 父节点里;递归 调用\n            return vnode.el.appendChild(creareElm(child))\n        })\n    } else {\n        // 虚拟dom 映射真实dom 方便后续更新操作\n        vnode.el = document.createTextNode(text);\n    }\n    return vnode.el;\n}\n\n// 更新属性\nfunction updateProperties(vnode) {\n    let newProps = vnode.data || [];\n    let el = vnode.el\n\n    // 循环添加样式 到dom el 上\n    for (let key in newProps) {\n        if (key == 'style') {\n            for (let styleName in newProps.style) {\n                el.style[styleName] = newProps.style[styleName]\n            }\n        } else if (key === 'class') {\n            el.className = newProps.class;\n        } else {\n            el.setAttribute(`${key}`, newProps[key])\n        }\n    }\n}\n\n\n\n\n/**\n * 注意:\n * 1.nextSibling 属性可返回某个元素之后紧跟的节点（处于同一树层级中）\n *\n *2 .Node.insertBefore(a,b) 在参考节点(b)之前插入一个拥有指定父节点的子节 a\n */","import Watcher from \"./observer/watcher\";\n\nimport { patch } from \"./vdom/patch\";\n\nexport function mountComponent(vm, el) {\n    const options = vm.$options;\n    vm.$el = el; // 真实的dom 元素\n\n\n    callHook(vm, 'beforeMount');\n\n\n\n\n    // Watcher 就是用来渲染的页面的\n    // vm._render 通过解析render方法 渲染出虚拟dom\n    // vm._update 通过虚拟dom 创建真实的dom\n    // 渲染页面\n    let updateComponent = () => { // 无论渲染还是更新都会执行\n        // 1.返回虚拟dom: vm._render()\n\n        // 2. 把虚拟dom 生成真实的dom, 只有第一次 转成ast 后面都是对比\n        vm._update(vm._render())\n    }\n\n    // 如何渲染? 通过 渲染watcher 每个组件都有一个watcher;\n    //  默认渲染Watcher 不需要回掉函数, 而实例 vm.$watch(()=>{})有\n    new Watcher(vm, updateComponent, () => { }, true) // true 表示这是一个渲染wather\n\n    callHook(vm, 'mounted');\n}\n\n\nexport function lifecycleMixin(Vue) {\n    Vue.prototype._update = function (vnode) {\n        const vm = this;\n        console.log(\"vnode---\", vnode)\n        // 通过虚拟节点 渲染真实的dom, 去替换 真实的el\n        vm.$el = patch(vm.$el, vnode);\n\n    }\n}\n\n\nexport function callHook(vm, hook) {\n    const handlers = vm.$options[hook];\n\n    // 发布 收集到的 生命周期函数\n    if (handlers) { // 找到对应的钩子 执行\n        for (let i = 0; i < handlers.length; i++) {\n            // 传递this 指向问题 \n            handlers[i].call(vm);\n        }\n    }\n}","import { initState } from \"./state\";\n\nimport { compileToFunction } from \"./compiler/index\";\n\nimport { mountComponent, callHook } from \"./lifecycle\";\n\nimport { mergeOptions } from \"./util/index\"\n\nimport { nextTick } from \"./util/next-tick\";\n\nexport function initMixin(Vue) {\n\n    Vue.prototype._init = function (options) {\n\n        //  数据的劫持\n        const vm = this;\n        // Vue.options\n        // vm.$options = options;\n\n\n        /**\n         * this.$options 指代的是用户传递的属性\n         * 将用户传递的 和全局的Options 合并\n         * 因为 init 可能会被子组件继承 或者子组件初始化调用, 所以用 vm.constructor.options, \n         * 当被 子类继承了以后 ,constructor 指向的就是子类了\n         */\n\n\n        vm.$options = mergeOptions(vm.constructor.options, options)\n\n        callHook(vm, 'beforeCreate');\n\n        // 初始化状态\n        initState(vm) // 分割代码的写法\n\n        callHook(vm, 'created');\n\n\n        // 如果用户传入el 需要渲染templete\n        if (vm.$options.el) {\n            vm.$mount(vm.$options.el);\n        }\n    }\n    Vue.prototype.$mount = function (el) {\n        const vm = this;\n        const options = vm.$options;\n        // 取dom\n        el = document.querySelector(el)\n\n        /**\n         * options 模版字段 优先级:\n         * render 优先级最高 \n         * template\n         * el\n         * 如果没有 options.render字段\n         */\n        if (!options.render) {\n            let template = options.template // 取出模版\n            if (!template && el) {\n                template = el.outerHTML\n            }\n            const render = compileToFunction(template)\n            // 将template 转化为 render方法 vue1.0 是字符串正则  vue2.0 是虚拟dom\n            options.render = render;\n        }\n        // options.render()\n\n        // 渲染当前的组件,挂载这个组件\n        mountComponent(vm, el);\n    }\n\n    // 用户调用的 nextTick\n    Vue.prototype.$nextTick = nextTick;\n}","\nexport function createElement(tag, data = {}, ...children) {\n    let key = data.key;\n    if (key) {\n        delete data.key\n    }\n    return vnode(tag, data, key, children, undefined)\n}\n\nexport function createTextNode(text) {\n    return vnode(undefined, undefined, undefined, undefined, text)\n}\n\n/**\n * @description 描述的是真实的dom结构 对象\n * @param {*} tag div 标签\n * @param {*} data 属性\n * @param {*} key  diff key\n * @param {*} children  子节点\n * @param {*} text  文本\n * @return 专门产生虚拟节点\n */\nfunction vnode(tag, data, key, children, text) {\n    return {\n        tag,\n        data,\n        key,\n        children,\n        text\n    }\n}\n\n\n\n/**\n * @description 流程:\n *  将template转化成ast语法树-> 生成render方法(字符串拼接)-> 生成虚拟dom->真实的dom\n *  重新生成虚拟dom -> 更新dom\n * \n */","import { createElement, createTextNode } from \"./vdom/create-element\"\nexport function renderMixin(Vue) {\n\n    // this 从实例上取值, 因为上面的 _c,_v,_s 都是vm实例上的方法\n    // _c 创建元素虚拟节点\n    // _v 创建文本虚拟节点\n    // _s  JSON.stringify\n\n    // 所有实例都会 共用 原型上的方法\n    Vue.prototype._c = function () {\n        return createElement(...arguments);\n    }\n\n    Vue.prototype._v = function (text) {\n        return createTextNode(text);\n    }\n    Vue.prototype._s = function (val) {\n        return val === null ? '' : (typeof val === 'object' ? JSON.stringify(val) : val)\n    }\n\n\n    Vue.prototype._render = function (vnode) {\n        const vm = this;\n\n        const { render } = vm.$options;\n\n\n       return render.call(vm); // 去实例上 取值\n    }\n}","import { mergeOptions } from \"../util/index\"\n\nexport default function initMixin(Vue) {\n    // 生命周期的合并策略!!!\n    Vue.mixin = function (mixin) {\n        this.options = mergeOptions(this.options, mixin)\n    }\n}\n\n   // Vue.mixin({\n    //     a: 1,\n    //     beforeCreate(a) {\n    //     }\n    // })\n\n    // Vue.mixin({\n    //     b: 2,\n    //     beforeCreate(b) {\n    //     }\n    // })","export const ASSETS_TYPE = [\n    'component',\n    'directive',\n    'filter',\n]","import { ASSETS_TYPE } from \"./const\";\n\n\n// Vue上的方法\nexport default function initAssetRegister(Vue) {\n    ASSETS_TYPE.forEach(type => {\n        Vue[type] = function (id, definition) {\n\n            if (type == 'component') {\n\n                // 注册全局组件\n                // 使用 extend 方法 将对象变为构造函数\n                // 子组件可能也有Vue Component.component方法; 所以统一用父类调用\n                // 不可以❌  definition = this.extend(definition)\n                // this.options._base 永远指向的都是父类\n                definition = this.options._base.extend(definition)\n\n            } else if (type == 'filter') {\n\n            } else if (type === 'directive') {\n\n            }\n\n            // Vue is this; 给Vue 挂上options\n            this.options[type+'s'][id] = definition;\n        }\n    })\n} ","import { mergeOptions } from \"../util/index\";\n\nexport default function initExtend(Vue) {\n\n    // 为什么要有子类和父类 new Vue (Vue构造函数)\n    // 创造子类 继承与父类 扩展的时候都扩展到自己的属性上\n    Vue.extend = function (extendOptions) {\n        console.log('extendOptions--', extendOptions)\n        const Sub = function Vuecomponent() {\n            // 这里this 指向子组件; 子组件初始化, 但是子类 没有_init方法 \n            // 所以需要继承\n            this._init(options)\n        }\n        // Object.create 实现继承;但有缺陷;会改变其构造函数\n        Sub.prototype = Object.create(this.prototype)\n        // 把 default prototype 唯一属性 constructor 指向 其本身;\n        Sub.prototype.constructor = Sub;\n\n        // 合并options 方法\n        Sub.options = mergeOptions(\n            this.options,\n            extendOptions\n        )\n        // 子类继承父类;\n        // 还可以拓展 mixin use ???\n        return Sub;\n    }\n\n\n}","import initMixin from \"./mixin.js\";\n\nimport { ASSETS_TYPE } from \"./const.js\";\nimport initAssetRegister from \"./assets.js\";\nimport initExtend from \"./extend.js\";\n\nexport function initGlobalAPI(Vue) {\n\n    // 整合了所有的全局相关的内容\n    Vue.options = {};\n    initMixin(Vue)\n\n\n    // 初始化全局过滤器,指令 组件; 都要挂载在 options 上\n    ASSETS_TYPE.forEach(type => {\n        Vue.options[type + 's'] = {}\n    });\n\n    Vue.options._base = Vue; // _base 是Vue的构造函数 本身\n\n    // 注册 Extend 方法\n    initExtend(Vue);\n\n\n    initAssetRegister(Vue);\n\n\n}","import { initMixin } from \"./init\";\nimport { renderMixin } from \"./render\";\nimport { lifecycleMixin } from \"./lifecycle\";\nimport { initGlobalAPI } from \"./initGlobalAPI/index\"\n\n\n\nfunction Vue(options) {\n\n    // 调用了 Vue 的 init 原型方法\n    this._init(options)\n}\n\ninitMixin(Vue)\nrenderMixin(Vue)\nlifecycleMixin(Vue)\n\n\ninitGlobalAPI(Vue)\n\nexport default Vue;"],"names":["isObject","data","def","key","value","Object","defineProperty","enumerable","configurable","proxy","vm","source","get","set","newValue","upper","all","letter","toUpperCase","LIFECYCLE_HOOKS","strats","forEach","hook","mergeHook","mergeAssets","parentVal","childVal","res","create","components","concat","mergeOptions","parent","child","options","mergeField","hasOwnProperty","_objectSpread","oldArrayMethods","Array","prototype","arrayMethods","methods","method","args","result","apply","insert","ob","__ob__","slice","observerArray","dep","notify","id","Dep","subs","watcher","push","target","addDep","update","stack","pushTarget","popTarget","pop","length","observe","isObj","Observer","isArray","__proto__","walk","keys","defineReactive","i","dependArray","current","depend","childOb","console","log","initState","opts","$options","props","initData","computed","watch","_data","ncname","gnameCapture","startTagopen","RegExp","endTag","attribute","startTagclose","parseHTML","html","root","currentParent","ELEMENT_TYPE","TEXT_TYPE","createASTElement","tagName","attrs","tag","type","children","start","element","chars","text","replace","end","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","n","attr","name","defaultTagRE","genProps","str","obj","split","item","JSON","stringify","genChildren","el","map","c","gen","join","node","generate","tokens","index","lastIndex","exec","trim","code","compileToFunction","template","renderFn","Function","callbacks","waiting","flushCallback","copies","timerFunc","Promise","p","resolve","then","setImmediate","setTimeout","nextTick","cb","ctx","fun","call","arguments","quene","has","flushSchedularQueue","run","queueWatcher","Watcher","exprOrFn","callback","getter","depsId","Set","deps","add","addSub","patch","oldVnode","vnode","isRealElement","nodeType","oldElm","parentElm","parentNode","creareElm","insertBefore","nextSibling","removeChild","document","createElement","updateProperties","appendChild","createTextNode","newProps","styleName","style","className","setAttribute","mountComponent","$el","callHook","updateComponent","_update","_render","lifecycleMixin","Vue","handlers","initMixin","_init","constructor","$mount","querySelector","render","outerHTML","$nextTick","undefined","renderMixin","_c","_v","_s","val","mixin","ASSETS_TYPE","initAssetRegister","definition","_base","extend","initExtend","extendOptions","Sub","Vuecomponent","initGlobalAPI"],"mappings":"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"}